## NET-250
### Initial Switch Configuration

```
Changing modes:

    enable/end/exit
    config terminal
    int #


Setting management IP:

    ip address 192.168.100.201 255.255.255.0


Removing IP :

    no ip address


Save configurations:

    copy running-config startup-config


Show Mac address table:

    show mac address-table


```

### Catalyst Swtich Configuration

```
Minicom set up:

    Connect console cable from switch to PC
    
    command terminal - sudo minicom -s
    
    Press "A" to setup which serial port to use. For our CentOS systems, it should be /dev/ttyUSB0 (that is a zero)
    
    Press "E" to change baud rate to 9600
    
    Escape back and press F to turn off hardware flow control
    
    "Save Setup to dfl"
    
    Select Exit - this will take you to the normal minicom session


Allowing telnet to access:

    Switch(config)#line vty 0 15

    Switch(config-line)#exec-timeout 8 20

    Switch(config-line)#logging synchronous

    Switch(config-line)#login

    Switch(config-line)#history size 15
    
   
  Revert to default:
    
    sudo minicom -s

    * unplug/replug while holding mode until prompted *

    flash_init

    dir flash:

    del flash:config.text

    del flash:vlan.dat

    boot

```

### Packet Tracer Switch Configuration

```
Setting Username / Password:

    Username - username (name) priviledge 15 password 0 (password)

    Password - enable password (password)

    Optional - enable secret (name) service password-encryption


Enable SSH:

    After setting hostname/domain/user type -

        crypto key generate rsa

         line VTY 0 15

         login local
  
    Should now be able to SSH in to switch.

         ssh -I username ip


Console Access:

    With a console cable connected you can now use telnet.

    telnet (ip address)

    Now prompted with username and password you should be able to connect.

```

### STP Observation + Optimization

```
Commnads:

    show spanning-tree
    
    This command will also help you identify the root bridge aswell as the STP port state.



    show mac address-table
    
    This command will display the VLAN interface mac address.



    spanning-tree vlan 1 priority 4096
    
    Command used to set a switch to be a root bridge.



    SwitchA#config t
    SwitchA(config)#interface fastethernet 0/10
    SwitchA(config-if)#spanning-tree portfast
    
    Command to set up PortFast on a switch
```

### Initialize, Delete, and Rename

```
Initialize flash:

1. Hold the mode putton for 15 seconds until you see an output

2. Type "flash_init"

3. boot -> "N"



Set new password:

1. line console 0

2. password <pass>

3. login



Delete switch config file:

1. del flash:config.text

2. del flash:vlan.dat



Rename switch config file:

  rename flash:config.text flash:config.old



Reset password:

1. conf t

2. enable secret <new secret pass>

3. line con 0

4. password <new console pass>

5. copy run start

6. reload
```

### Three-Floor VLAN Network

```
Define VLANs:

    1. config

    2. vlan <#>

    3. name <name>

    4. exit

    5. show vlan brief


Configure interfaces:

    1. config

    2. interface range fastethernet/gigabit 0/x-x

    3. show vlan brief

Changing access/trunk ports:

    1. config

    2. interface range fastethernet/gigabit 0/x-x

    3. switchport mode trunk/access

    4. if needed - switchport trunk allowed vlan all (allow all vlans on switch to use trunk)
```

### VLAN Trunking Protocol

```
Commands for:

VTP Mode

    1. enable

    2. conf t

    3. vtp mode server/client


Domain Name

    1. enable

    2. conf t

    3. vtp domain <name>


Password

    1. enable

    2. conf t

    3. vtp password <password>


VLAN Name + Number

    1. enable

    2. conf t

    3. vlan <#>

    4. name <name>

sh vlan brief

 * This command will display VLAN numbers, names, status, and their port assignments located on the switch.


sh vtp status

* This command will display the VTP version, maximum supported VLANs, domain name, mode, and other configurations for VTP.

```

### Port Security, Authorization, Force Shut Down

```
Enable sticky

    1. enable, conf t, select interface range

    2. switchport port-security

    3. switchport port-security mac-address sticky


See port security info

    1. show port-security interface

    2. show port-security interface fastethernet 0/x

    3. show port-security address

    4. show running-config


Allow authorized machines post shutdown

    1. interface fastethernet 0/x

    2. shutdown

    3. no shutdown

Shut down a range of ports

    1. int range fastethernet 0/x-x

    2. shut
```

### Setting Up Port Security Example

```
* Interface range Gi2/0/1-20
* Switchport port-security
* Switchport port-security maximum 1
* Switchport port-security mac-address sticky
```

### Multilayer Switch + Default Route

```
Enable routing on a multilayer switch

    1. conf t

    2. ip routing


Create a virtual interface on a multilayer switch + assign ip

    1. interface vlan #

    2. ip address <ip address> <subnet mask>


Set a default route on a router

    1. ip route 0.0.0.0 0.0.0.0 <ip address of next hop>
```
